# webpack 

nodeJS 的第三方模块，一个模块化的打包工具



webpack 天生只能打包js ，一切都是模块


## 安装以及简单实例

> 1 webpack 安装

webpack安装分两次
第一次，全局安装：
    npm install webpack -g    //  (npm install -g webpack   ) -g写到哪都行
      
    npm install webpack -cli -g

第二次，本地安装：
    npm install webpack 
    npm install webpack -cli    


总计四个包

安装到 nodejs 安装目录中 


![](assets/000/01/02/05/01/02-1610696806076.png)


全局可以使用webpack 命令；但是本地模块也需要单独下载

> 2 配置文件

webpack提供 webpack.config.js 作为webpack 的配置文件


重点概念：
    入口:webpack 打包的入口。
    出口：打包完成之后生成文件的相关信息
    加载机：因为webpack天生智能识别js文件，所以想要加载其他类型的文件，就需要加载及的帮助。
    插件：webpack 自身不具备的功能。


webpack 之前如果一个静态架构，引入几个js 就需要请求几次


* 配置文件__dirname 因为执行打包的时候，会被编译成如下代码，所以是能找到 __dirname 的

![](assets/000/01/02/05/01/02-1610697401815.png)



实例：


![](assets/000/01/02/05/01/02-1610697877912.png)

## 入口、出口、加载机制


### 入口配置 
![](assets/000/01/02/05/01/02-1610698605142.png)


> 1 单页面


![](assets/000/01/02/05/01/02-1610698628213.png)


> 2 多页面

![](assets/000/01/02/05/01/02-1610699058594.png)



### 出口配置


![](assets/000/01/02/05/01/02-1610699185942.png)


> 1. 出口配置1 

![](assets/000/01/02/05/01/02-1610699284148.png)

> 2.出口配置2

![](assets/000/01/02/05/01/02-1610699318267.png)

![](assets/000/01/02/05/01/02-1610699342989.png)



### 加载机的配置

> 1 不加加载机，css 是不会被打包到js 中的 且会报错

![](assets/000/01/02/05/01/02-1610699654004.png)

则这个时候就是需要加载机

> 2 设置加载机 ，让js 中也加载 css 等文件

![](assets/000/01/02/05/01/02-1610700243968.png)

具体配置：

![](assets/000/01/02/05/01/02-1610700313443.png)


### 加载机加载图片   注意，与css 一样也都需要安装加载机，url-loader、file-loader 两个加载机




js代码，webpack 打包图片就是专为base 64 这种形式


![](assets/000/01/02/05/01/02-1610700544420.png)


> 1. 配置代码：

![](assets/000/01/02/05/01/02-1610700732209.png)




页面最终的图片并不会去请求图片，而是直接转化为base64 嵌入进去

![](assets/000/01/02/05/01/02-1610700785801.png)


> 2 所以需要对专为base64 的图片大小进行限制(限制的话，还需要再安装 file-loader 加载机)


![](assets/000/01/02/05/01/02-1610701041655.png)


![](assets/000/01/02/05/01/02-1610701096118.png)


![](assets/000/01/02/05/01/02-1610701258401.png)

jpg  图片是大于 10KB ，所以 不会被打包为base64 嵌入页面，而是作为一个请求

## webPack 服务器

webPack 搭服务器 ，可以不用node 搭建服务器 

webpack -w 打包一次之后，再次修改js 文件，则会自动编译一下；

所以这里介绍webPack 搭建服务端，安装之后是不会在 node_modules 中发现 对应包的，而且执行了

![](assets/000/01/02/05/01/02-1610702290544.png)

每次修改代码都会自动编译

![](assets/000/01/02/05/01/02-1610702619823.png)


![](assets/000/01/02/05/01/02-1610702678390.png)

webpack 简单版到此结束