# 前端时间工具类

```js

//获取当前时间，格式YYYY-MM-DD
  getNowFormatDate: function (level) {//级别 3年月日 2 年月 1年，
    var date = new Date()
    var seperator1 = '-'
    var currentdate = ''
    for (var i = 1; i <= level; i++) {
      if (i == 1) {//年
        currentdate += date.getFullYear()
      } else if (i == 2) {
        var month = date.getMonth() + 1
        if (month >= 1 && month <= 9) {
          month = '0' + month
        }
        currentdate += seperator1 + month
      } else {
        var strDate = date.getDate()
        if (strDate >= 0 && strDate <= 9) {
          strDate = '0' + strDate
        }
        currentdate += seperator1 + strDate
      }
    }
    return currentdate
  },

    //时间格式化
    dateFormat(fmt, date) {
    let ret;
    const opt = {
        "Y+": date.getFullYear().toString(),        // 年
        "m+": (date.getMonth() + 1).toString(),     // 月
        "d+": date.getDate().toString(),            // 日
        "H+": date.getHours().toString(),           // 时
        "M+": date.getMinutes().toString(),         // 分
        "S+": date.getSeconds().toString()          // 秒
        // 有其他格式化字符需求可以继续添加，必须转化成字符串
    };
    for (let k in opt) {
        ret = new RegExp("(" + k + ")").exec(fmt);
        if (ret) {
        fmt = fmt.replace(ret[1], (ret[1].length == 1) ? (opt[k]) : (opt[k].padStart(ret[1].length, "0")))
        }
        ;
    }
    ;
    return fmt;
    },
```


```
// 2020-09-03
let curTimeStr=this.common.getNowFormatDate(3)
// 2020-09-02
this.startTime=this.dateFormat('YYYY-mm-dd',new Date(Date.parse(curTimeStr)-1000*60*60*24))

// 2020-09-03
this.endTime=this.common.getNowFormatDate(3)
```