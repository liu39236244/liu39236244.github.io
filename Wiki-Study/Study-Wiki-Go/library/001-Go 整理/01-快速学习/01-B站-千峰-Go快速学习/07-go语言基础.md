# go 语言基础


## go 开发的目录大致规范


![](assets/001/01/01/07-1753591296911.png)


## go 的第一个程序

视频地址：
https://www.bilibili.com/video/BV1jJ411c7s3?spm_id_from=333.788.videopod.episodes&vd_source=c35490de6888f6b2eaf6af9798d41a06&p=8

## 基础hello world

![](assets/001/01/01/07-1740317555279.png)

```go
package main
import "fmt"
func main() {
	fmt.Println("Hello, World!")
}
```

## 执行方式

```
go run helloworld.go
```

![](assets/001/01/01/07-1740317898720.png)

go install 方式 ，我在win执行不了， 搜了一下，按照如下博客我执行了   go mod init helloworld  命令以后，然后跑去带有  go文件的目录执行 go install, 则在 D:\myProject\MyGoWorkPath\bin  目录生成了helloworld.exe 文件，

经过后续查询，因为我的go版本是 1.24 

原因如下：

你遇到的问题是因为 Go 版本的差异。教程可能使用的是较老版本的 Go。

## Go 版本变化说明：
- **Go 1.16 之前**：可以在任意目录直接 `go install hello`
- **Go 1.16 之后**：必须在模块内或指定版本

## 解决方案：

### 方案1：使用 go run（推荐）
```bash
# 直接运行你的 hello.go 文件
go run hello.go
```

### 方案2：创建模块后安装
```bash
# 1. 初始化模块
go mod init hello

# 2. 然后可以构建
go build hello.go

# 3. 运行生成的可执行文件
./hello        # Linux/Mac
hello.exe      # Windows
```

### 方案3：使用旧的 GOPATH 模式
```bash
# 设置环境变量（临时）
set GO111MODULE=off

# 然后可以使用旧方式
go install hello
```

## 推荐做法：
对于学习阶段，直接使用：
```bash
go run hello.go
```

这样最简单，不需要安装，直接运行你的程序。

`go install` 主要用于安装可执行程序到 `$GOPATH/bin` 目录，学习时通常用 `go run` 就够了。




```
go version go1.24.0 windows/386
```

### go mod

```
//初始化模块：
Go mod init <项目模块名称>

//依赖关系处理，根据go.mod文件
Go mod tidy

//将依赖包复制到项目的vendor目录
Go mod vendor

//显示依赖关系
Go list -m all

//显示详细依赖关系
Go list -m -json all

//下载依赖
Go mod download [path@version]

```

# 第一个程序：HelloWorld

## 一、go项目工程结构

配置好工作目录后，就可以编码开发了，在这之前，我们看下go的通用项目结构，这里的结构主要是源代码相应地资源文件存放目录结构。

### 1.1 gopath目录

gopath目录就是我们存储我们所编写源代码的目录。该目录下往往要有3个子目录：src，bin，pkg。

> src ---- 里面每一个子目录，就是一个包。包内是Go的源码文件
>
> pkg ---- 编译后生成的，包的目标文件
>
> bin ---- 生成的可执行文件。

### 1.2 编写第一个程序

1.在HOME/go的目录下，(就是GOPATH目录里)，创建一个目录叫src，然后再该目录下创建一个文件夹叫hello，在该目录下创建一个文件叫helloworld.go，并双击打开，输入以下内容：

```go
package main

import "fmt"

func main() {
   fmt.Println("Hello, World!")
}
```

2.执行go程序

执行go程序由几种方式

方式一：使用go run命令

    step1：打开终端：

    window下使用快捷键win+R，输入cmd打开命令行提示符

    linux下可以使用快捷键：ctrl+alt+T

    mac下command+空格，输入termainl

    step2：进入helloworld.go所在的目录

    step3：输入go run helloworld.go命令并观察运行结果。

方式二：使用go build命令 【1.16之前才可以 ，除非你 set GO111MODULE=off 旧模式 】

    step1：打开终端：在任意文件路径下，运行:
			go install hello

    也可以进入项目(应用包)的路径，然后运行：
			go install

注意，在编译生成go程序的时，go实际上会去两个地方找程序包：
GOROOT下的src文件夹下，以及GOPATH下的src文件夹下。

在程序包里，自动找main包的main函数作为程序入口，然后进行编译。

    step2：运行go程序
		在/home/go/bin/下(如果之前没有bin目录则会自动创建)，会发现出现了一个hello的可执行文件，用如下命令运行:
		./hello


### 1.3 第一个程序的解释说明

#### 3.2.1 package

- 在同一个包下面的文件属于同一个工程文件，不用 `import`包，可以直接使用
- 在同一个包下面的所有文件的package名，都是一样的
- 在同一个包下面的文件 `package`名都建议设为是该目录名，但也可以不是

#### 3.2.2  import

import "fmt" 告诉 Go 编译器这个程序需要使用 fmt 包的函数，fmt 包实现了格式化 IO（输入/输出）的函数

可以是相对路径也可以是绝对路径，推荐使用绝对路径（起始于工程根目录）

1. 点操作
   我们有时候会看到如下的方式导入包

   ```go
   import(
   	. "fmt"
   ) 
   ```

   这个点操作的含义就是这个包导入之后在你调用这个包的函数时，你可以省略前缀的包名，也就是前面你调

   用的 `fmt.Println("hello world")`可以省略的写成 `Println("hello world")`
2. 别名操作
   别名操作顾名思义我们可以把包命名成另一个我们用起来容易记忆的名字

   ```go
   import(
   	f "fmt"
   ) 
   ```

   别名操作的话调用包函数时前缀变成了我们的前缀，即 `f.Println("hello world")`
3. _操作
   这个操作经常是让很多人费解的一个操作符，请看下面这个import

   ```go
   import (
     "database/sql"
     _ "github.com/ziutek/mymysql/godrv"
   ) 
   ```

   _操作其实是引入该包，而不直接使用包里面的函数，而是调用了该包里面的init函数

#### 3.3.3 main

main(),是程序运行的入口。

### 1.4 包的说明

我们知道源代码都是存放在GOPATH的src目录下，那么多个多个项目的时候，怎么区分呢？答案是通过包，使用包来组织我们的项目目录结构。有过java开发的都知道，使用包进行组织代码，包以网站域名开头就不会有重复，比如千锋的网站是 `http://www.mobiletrain.org`，我们就可以以 `mobiletrain.org`的名字创建一个文件夹，我自己的go项目都放在这个文件夹里，这样就不会和其他人的项目冲突，包名也是唯一的。

如果有自己的域名，那也可以使用自己的域名。如果没有个人域名，现在流行的做法是使用你个人的github名，因为每个人的是唯一的，所以也不会有重复。

![](assets/001/01/01/07-1740320202060.png)

如上，src目录下跟着一个个域名命名的文件夹。再以github.com文件夹为例，它里面又是以github用户名命名的文件夹，用于存储属于这个github用户编写的go源代码。

## 命令源码文件

[命令源码文件 库文件 测试文件 ](https://www.cnblogs.com/peter-yan/p/14327283.html "参考博客")



![](assets/001/01/01/07-1740408695475.png)